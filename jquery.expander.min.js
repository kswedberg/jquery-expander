(e=>{"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof module&&"object"==typeof module.exports?module.exports=e:e(jQuery)})(function(U){U.expander={version:"2.0.2",defaults:{slicePoint:100,sliceOn:null,preserveWords:!0,normalizeWhitespace:!0,showWordCount:!1,detailPrefix:" ",wordCountText:" ({{count}} words)",widow:4,expandText:"read more",expandPrefix:"&hellip; ",expandAfterSummary:!1,wordEnd:/(&(?:[^;]+;)?|[0-9a-zA-Z\u00C0-\u0100]+|[^\u0000-\u007F]+)$/,summaryClass:"summary",detailClass:"details",moreClass:"read-more",lessClass:"read-less",moreLinkClass:"more-link",lessLinkClass:"less-link",collapseTimer:0,expandEffect:"slideDown",expandSpeed:250,collapseEffect:"slideUp",collapseSpeed:200,userCollapse:!0,userCollapseText:"read less",userCollapsePrefix:" ",onSlice:null,beforeExpand:null,afterExpand:null,onCollapse:null,afterCollapse:null}},U.fn.expander=function(e){var k,a="init",P=("string"==typeof e&&(a=e,e={}),U.extend({},U.expander.defaults,e)),O=/^<(?:area|br|col|embed|hr|img|input|link|meta|param).*>$/i,l=P.wordEnd,j=/<\/?(\w+)[^>]*>/g,L=/<(\w+)[^>]*>/g,$=/<\/(\w+)>/g,D=/(<\/([^>]+)>)\s*$/,I=/^(<[^>]+>)+.?/,W=/(?:^\s+|\s+$)/g,A=/\s\s+/g,e={init:function(){this.each(function(){var e,a,l,s,n,t,r,i,o,d,p,c=[],f=[],u={},m=this,x=U(this),h=U([]),C=U.extend({},P,x.data("expander")||{}),v=!!x.find("."+C.detailClass).length,y=!!x.find("*").filter(function(){var e=U(this).css("display");return/^block|table|list/.test(e)}).length,g=(y?"div":"span")+"."+C.detailClass,w=C.moreClass+"",E=C.lessClass+"",T=C.expandSpeed||0,S=(p=x.html(),P.normalizeWhitespace?(p||"").replace(W,"").replace(A," "):p),b=S.slice(0,C.slicePoint);if(C.moreSelector="span."+w.split(" ").join("."),C.lessSelector="span."+E.split(" ").join("."),!U.data(this,"expanderInit")){for(U.data(this,"expanderInit",!0),U.data(this,"expander",C),U.each(["onSlice","beforeExpand","afterExpand","onCollapse","afterCollapse"],function(e,a){u[a]="function"==typeof C[a]}),n=(b=z(b)).replace(j,"").length;n<C.slicePoint;)b+=s="<"===(s=S.charAt(b.length))?S.slice(b.length).match(I)[0]:s,n++;for(p=(b=z(b=C.sliceOn?(e=>{var a="ExpandMoreHere374216623",l=e.summaryText.replace(e.sliceOn,a),l=(l=U("<div>"+l+"</div>").text()).indexOf(a),a=e.summaryText.indexOf(e.sliceOn);return-1!==l&&l<e.slicePoint&&(e.summaryText=e.allHtml.slice(0,a)),e})({sliceOn:C.sliceOn,slicePoint:C.slicePoint,allHtml:S,summaryText:b}).summaryText:b,C.preserveWords&&S.slice(b.length).length)).match(L)||[],t=b.match($)||[],l=[],U.each(p,function(e,a){O.test(a)||l.push(a)}),p=l,a=t.length,e=0;e<a;e++)t[e]=t[e].replace($,"$1");if(U.each(p,function(e,a){var l=a.replace(L,"$1"),s=U.inArray(l,t);-1===s?(c.push(a),f.push("</"+l+">")):t.splice(s,1)}),f.reverse(),v)i=x.find(g).remove().html(),S=(b=x.html())+i,r="";else{if(""===(w=(i=S.slice(b.length)).replace(j,"").replace(W,""))||w.split(/\s+/).length<C.widow)return;r=f.pop()||"",b+=f.join(""),i=c.join("")+i}C.moreLabel=x.find(C.moreSelector).length?"":((e,a)=>{var l='<span class="'+e.moreClass+'">'+e.expandPrefix;return e.wordCountText=e.showWordCount?e.wordCountText.replace(/\{\{count\}\}/,a.replace(j,"").replace(/&(?:amp|nbsp);/g,"").replace(/(?:^\s+|\s+$)/,"").match(/\w+/g).length):"",l+='<a href="#" class="'+e.moreLinkClass+'">'+e.expandText+e.wordCountText+"</a></span>"})(C,i),y?i=S:"&"===b.charAt(b.length-1)&&(E=/^[#\w\d\\]+;/.exec(i))&&(i=i.slice(E[0].length),b+=E[0]),C.summary=b+=r,C.details=i,C.lastCloseTag=r,p=((e,a)=>{var l="span",s=e.summary,n=D.exec(s),t=n?n[2].toLowerCase():"";return a?(l="div",n&&"a"!==t&&!e.expandAfterSummary?s=s.replace(D,e.moreLabel+"$1"):s+=e.moreLabel,s='<div class="'+e.summaryClass+'">'+s+"</div>"):s+=e.moreLabel,[s,e.detailPrefix||"","<",l+' class="'+e.detailClass+'"',">",e.details,"</"+l+">"].join("")})(C=u.onSlice?(l=C.onSlice.call(m,C))&&l.details?l:C:C,y),x.empty().append(p),o=x.find(g),d=x.find(C.moreSelector),"slideUp"===C.collapseEffect&&"slideDown"!==C.expandEffect||x.is(":hidden")?o.css({display:"none"}):o[C.collapseEffect](0),h=x.find("div."+C.summaryClass),v=function(e){e.preventDefault();e=e.startExpanded?0:T;d.hide(),h.hide(),u.beforeExpand&&C.beforeExpand.call(m),o.stop(!1,!0)[C.expandEffect](e,function(){var e,a,l;o.css({zoom:""}),u.afterExpand&&C.afterExpand.call(m),a=o,l=m,(e=C).collapseTimer&&(k=setTimeout(function(){H(e,a),"function"==typeof e.onCollapse&&e.onCollapse.call(l,!1)},e.collapseTimer))})},d.find("a").off("click.expander").on("click.expander",v),C.userCollapse&&!x.find(C.lessSelector).length&&x.find(g).append('<span class="'+C.lessClass+'">'+C.userCollapsePrefix+'<a href="#" class="'+C.lessLinkClass+'">'+C.userCollapseText+"</a></span>"),x.find(C.lessSelector+" a").off("click.expander").on("click.expander",function(e){e.preventDefault(),clearTimeout(k);e=U(this).closest(g);H(C,e),u.onCollapse&&C.onCollapse.call(m,!0)}),C.startExpanded&&v({preventDefault:function(){},startExpanded:!0})}})},destroy:function(){this.each(function(){var e,a,l=U(this);l.data("expanderInit")&&(e=U.extend({},l.data("expander")||{},P),a=l.find("."+e.detailClass).contents(),l.removeData("expanderInit"),l.removeData("expander"),l.find(e.moreSelector).remove(),l.find("."+e.summaryClass).remove(),l.find("."+e.detailClass).after(a).remove(),l.find(e.lessSelector).remove())})}};function z(e,a){return e.lastIndexOf("<")>e.lastIndexOf(">")&&(e=e.slice(0,e.lastIndexOf("<"))),a&&(e=e.replace(l,"")),P.normalizeWhitespace?e.replace(W,""):e}function H(e,a){a.stop(!0,!0)[e.collapseEffect](e.collapseSpeed,function(){a.prev("span."+e.moreClass).show().length||a.parent().children("div."+e.summaryClass).show().find("span."+e.moreClass).show(),e.afterCollapse&&e.afterCollapse.call(a)})}return e[a]&&e[a].call(this),this},U.fn.expander.defaults=U.expander.defaults});